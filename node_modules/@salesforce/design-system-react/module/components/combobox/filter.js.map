{"version":3,"sources":["../../../.tmp-es/components/combobox/filter.js"],"names":["escapeRegExp","filter","inputValue","limit","options","selection","inputValueRegExp","RegExp","option","searchTermFoundInLabel","label","match","searchTermFoundInSubtitle","subTitle","isSeparator","type","notAlreadySelected","some","sel","id","splice"],"mappings":"AAAA;;AACA;AACA,OAAOA,YAAP,MAAyB,qBAAzB;AAEA;AACA;AACA;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,OAAoD;AAAA,MAAjDC,UAAiD,QAAjDA,UAAiD;AAAA,wBAArCC,KAAqC;AAAA,MAArCA,KAAqC,2BAA7B,EAA6B;AAAA,MAAzBC,OAAyB,QAAzBA,OAAyB;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;AAClE,MAAMC,gBAAgB,GAAG,IAAIC,MAAJ,CAAWP,YAAY,CAACE,UAAD,CAAvB,EAAqC,IAArC,CAAzB,CADkE,CAElE;;AACA,SAAOE,OAAO,CACZH,MADK,CACE,UAACO,MAAD,EAAY;AACnB,QAAMC,sBAAsB,GAAGD,MAAM,CAACE,KAAP,GAC5BF,MAAM,CAACE,KAAP,CAAaC,KAAb,CAAmBL,gBAAnB,CAD4B,GAE5B,KAFH;AAGA,QAAMM,yBAAyB,GAAGJ,MAAM,CAACK,QAAP,GAC/BL,MAAM,CAACK,QAAP,CAAgBF,KAAhB,CAAsBL,gBAAtB,CAD+B,GAE/B,KAFH;AAGA,QAAMQ,WAAW,GAAGN,MAAM,CAACO,IAAP,KAAgB,WAApC;AACA,QAAMC,kBAAkB,GAAG,CAACX,SAAS,CAACY,IAAV,CAAe,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,EAAJ,KAAWX,MAAM,CAACW,EAA3B;AAAA,KAAf,CAA5B;AAEA,WACC,CAAC,CAACjB,UAAD,IACAY,WADA,IAEAL,sBAFA,IAGAG,yBAHD,KAIAI,kBALD;AAOA,GAlBK,EAmBLI,MAnBK,CAmBE,CAnBF,EAmBKjB,KAnBL,CAAP;AAoBA,CAvBD;;AAwBA,eAAeF,MAAf","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\nimport escapeRegExp from 'lodash.escaperegexp';\n\n/**\n * SLDS recommends auto-complete/search inputs menus have a limit of 10 items.\n */\nconst filter = ({ inputValue, limit = 10, options, selection }) => {\n\tconst inputValueRegExp = new RegExp(escapeRegExp(inputValue), 'ig');\n\t// eslint-disable-next-line fp/no-mutating-methods\n\treturn options\n\t\t.filter((option) => {\n\t\t\tconst searchTermFoundInLabel = option.label\n\t\t\t\t? option.label.match(inputValueRegExp)\n\t\t\t\t: false;\n\t\t\tconst searchTermFoundInSubtitle = option.subTitle\n\t\t\t\t? option.subTitle.match(inputValueRegExp)\n\t\t\t\t: false;\n\t\t\tconst isSeparator = option.type === 'separator';\n\t\t\tconst notAlreadySelected = !selection.some((sel) => sel.id === option.id);\n\n\t\t\treturn (\n\t\t\t\t(!inputValue ||\n\t\t\t\t\tisSeparator ||\n\t\t\t\t\tsearchTermFoundInLabel ||\n\t\t\t\t\tsearchTermFoundInSubtitle) &&\n\t\t\t\tnotAlreadySelected\n\t\t\t);\n\t\t})\n\t\t.splice(0, limit);\n};\nexport default filter;\n"],"file":"filter.js"}