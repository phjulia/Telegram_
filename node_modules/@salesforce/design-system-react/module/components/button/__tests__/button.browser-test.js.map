{"version":3,"sources":["../../../../.tmp-es/components/button/__tests__/button.browser-test.jsx"],"names":["React","ReactDOM","TestUtils","expect","assign","SLDSButton","IconSettings","Simulate","mockCallback","sinon","spy","describe","defaultProps","label","onClick","variant","renderButton","instance","ref","createRef","renderIntoDocument","findDOMNode","current","createButton","props","createElement","getButton","cmp","btn","beforeEach","id","text","theme","style","background","getElementsByClassName","it","textContent","to","equal","className","include","getAttribute","backgroundColor","should","formAction","svg","iconName","iconCategory","iconPosition","baseVal","asstText","assistiveText","icon","iconSize","iconVariant","getElementsByTagName","iconPath","title","use","svgHref","before","clicked","setClick","be","false","click","true"],"mappings":";;;;;;;;;;;;AAAA;;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,SAASC,MAAT,QAAuB,MAAvB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AAEA,IAAQC,QAAR,GAAqBL,SAArB,CAAQK,QAAR;AAEA,IAAMC,YAAY,GAAGC,KAAK,CAACC,GAAN,EAArB;AAEAC,QAAQ,CAAC,cAAD,EAAiB,YAAM;AAC9B,MAAMC,YAAY,GAAG;AACpBC,IAAAA,KAAK,EAAE,SADa;AAEpBC,IAAAA,OAAO,EAAEN,YAFW;AAGpBO,IAAAA,OAAO,EAAE;AAHW,GAArB;;AAMA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,QAAD,EAAc;AAClC,QAAMC,GAAG,gBAAGlB,KAAK,CAACmB,SAAN,EAAZ;AACAjB,IAAAA,SAAS,CAACkB,kBAAV,eACC,oBAAC,YAAD;AAAc,MAAA,QAAQ,EAAC;AAAvB,oBACC;AAAK,MAAA,GAAG,EAAEF;AAAV,OAAgBD,QAAhB,CADD,CADD;AAKA,WAAOhB,QAAQ,CAACoB,WAAT,CAAqBH,GAAG,CAACI,OAAzB,CAAP;AACA,GARD;;AAUA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD;AAAA,wBACpBxB,KAAK,CAACyB,aAAN,CAAoBpB,UAApB,EAAgCD,MAAM,CAAC,EAAD,EAAKQ,YAAL,EAAmBY,KAAnB,CAAtC,CADoB;AAAA,GAArB;;AAEA,MAAME,SAAS,GAAG,SAAZA,SAAY,CAACF,KAAD;AAAA,WAAWR,YAAY,CAACO,YAAY,CAACC,KAAD,CAAb,CAAvB;AAAA,GAAlB;;AAEAb,EAAAA,QAAQ,CAAC,2BAAD,EAA8B,YAAM;AAC3C,QAAIgB,GAAJ;AACA,QAAIC,GAAJ;AAEAC,IAAAA,UAAU,CAAC,YAAM;AAChBF,MAAAA,GAAG,GAAGD,SAAS,CAAC;AACfI,QAAAA,EAAE,EAAE,WADW;AAEfC,QAAAA,IAAI,EAAE,OAFS;AAGfC,QAAAA,KAAK,EAAE,OAHQ;AAIfC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE;AAAd;AAJQ,OAAD,CAAf;;AADgB,kCAORP,GAAG,CAACQ,sBAAJ,CAA2B,aAA3B,CAPQ;;AAAA;;AAOfP,MAAAA,GAPe;AAQhB,KARS,CAAV;AAUAQ,IAAAA,EAAE,CAAC,uBAAD,EAA0B,YAAM;AACjCjC,MAAAA,MAAM,CAACyB,GAAG,CAACS,WAAL,CAAN,CAAwBC,EAAxB,CAA2BC,KAA3B,CAAiC,SAAjC;AACA,KAFC,CAAF;AAIAH,IAAAA,EAAE,CAAC,gCAAD,EAAmC,YAAM;AAC1CjC,MAAAA,MAAM,CAACyB,GAAG,CAACY,SAAL,CAAN,CAAsBF,EAAtB,CAAyBG,OAAzB,CAAiC,qBAAjC;AACA,KAFC,CAAF;AAIAL,IAAAA,EAAE,CAAC,mBAAD,EAAsB,YAAM;AAC7BjC,MAAAA,MAAM,CAACyB,GAAG,CAACc,YAAJ,CAAiB,IAAjB,CAAD,CAAN,CAA+BJ,EAA/B,CAAkCC,KAAlC,CAAwC,WAAxC;AACA,KAFC,CAAF;AAIAH,IAAAA,EAAE,CAAC,uBAAD,EAA0B,YAAY;AACvCR,MAAAA,GAAG,CAACK,KAAJ,CAAUU,eAAV,CAA0BC,MAA1B,CAAiCL,KAAjC,CAAuC,iBAAvC;AACA,KAFC,CAAF;AAGA,GA7BO,CAAR;AA+BA5B,EAAAA,QAAQ,CAAC,oBAAD,EAAuB,YAAM;AACpC,QAAIgB,GAAJ;AACA,QAAIC,GAAJ;AACA,QAAMiB,UAAU,GAAG,2BAAnB;AAEAhB,IAAAA,UAAU,CAAC,YAAM;AAChBF,MAAAA,GAAG,GAAGD,SAAS,CAAC;AACfI,QAAAA,EAAE,EAAE,WADW;AAEfe,QAAAA,UAAU,EAAVA;AAFe,OAAD,CAAf;;AADgB,mCAKRlB,GAAG,CAACQ,sBAAJ,CAA2B,aAA3B,CALQ;;AAAA;;AAKfP,MAAAA,GALe;AAMhB,KANS,CAAV;AAQAQ,IAAAA,EAAE,CAAC,yBAAD,EAA4B,YAAM;AACnCjC,MAAAA,MAAM,CAACyB,GAAG,CAACiB,UAAL,CAAN,CAAuBP,EAAvB,CAA0BC,KAA1B,CAAgCM,UAAhC;AACA,KAFC,CAAF;AAGA,GAhBO,CAAR;AAkBAlC,EAAAA,QAAQ,CAAC,oBAAD,EAAuB,YAAM;AACpC,QAAIgB,GAAJ;AACA,QAAIC,GAAJ;AAEAC,IAAAA,UAAU,CAAC,YAAM;AAChBF,MAAAA,GAAG,GAAGD,SAAS,CAAC;AACfI,QAAAA,EAAE,EAAE,WADW;AAEf,+BAAuB;AAFR,OAAD,CAAf;;AADgB,mCAKRH,GAAG,CAACQ,sBAAJ,CAA2B,aAA3B,CALQ;;AAAA;;AAKfP,MAAAA,GALe;AAMhB,KANS,CAAV;AAQAQ,IAAAA,EAAE,CAAC,kCAAD,EAAqC,YAAM;AAC5CjC,MAAAA,MAAM,CAACyB,GAAG,CAACc,YAAJ,CAAiB,qBAAjB,CAAD,CAAN,CAAgDJ,EAAhD,CAAmDC,KAAnD,CAAyD,YAAzD;AACA,KAFC,CAAF;AAGA,GAfO,CAAR;AAiBA5B,EAAAA,QAAQ,CAAC,qCAAD,EAAwC,YAAM;AACrD,QAAIgB,GAAJ;AACA,QAAIC,GAAJ;AACA,QAAIkB,GAAJ;AAEAjB,IAAAA,UAAU,CAAC,YAAM;AAChBF,MAAAA,GAAG,GAAGD,SAAS,CAAC;AACfb,QAAAA,KAAK,EAAE,mBADQ;AAEfkC,QAAAA,QAAQ,EAAE,UAFK;AAGfC,QAAAA,YAAY,EAAE,QAHC;AAIfC,QAAAA,YAAY,EAAE,OAJC;AAKflC,QAAAA,OAAO,EAAE;AALM,OAAD,CAAf;;AADgB,mCAQRY,GAAG,CAACQ,sBAAJ,CAA2B,aAA3B,CARQ;;AAAA;;AAQfP,MAAAA,GARe;;AAAA,mCASRD,GAAG,CAACQ,sBAAJ,CAA2B,mBAA3B,CATQ;;AAAA;;AASfW,MAAAA,GATe;AAUhB,KAVS,CAAV;AAYAV,IAAAA,EAAE,CAAC,eAAD,EAAkB,YAAM;AACzBjC,MAAAA,MAAM,CAACyB,GAAG,CAACS,WAAL,CAAN,CAAwBC,EAAxB,CAA2BC,KAA3B,CAAiC,mBAAjC;AACA,KAFC,CAAF;AAIAH,IAAAA,EAAE,CAAC,cAAD,EAAiB,YAAM;AACxBjC,MAAAA,MAAM,CAAC2C,GAAG,CAACN,SAAJ,CAAcU,OAAf,CAAN,CAA8BZ,EAA9B,CAAiCG,OAAjC,CAAyC,yBAAzC;AACA,KAFC,CAAF;AAGA,GAxBO,CAAR;AA0BA9B,EAAAA,QAAQ,CAAC,0BAAD,EAA6B,YAAM;AAC1C,QAAIgB,GAAJ;AACA,QAAIwB,QAAJ;AACA,QAAIL,GAAJ;AAEAjB,IAAAA,UAAU,CAAC,YAAM;AAChBF,MAAAA,GAAG,GAAGD,SAAS,CAAC;AACf0B,QAAAA,aAAa,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SADA;AAEftC,QAAAA,OAAO,EAAE,MAFM;AAGfiC,QAAAA,YAAY,EAAE,SAHC;AAIfD,QAAAA,QAAQ,EAAE,UAJK;AAKfO,QAAAA,QAAQ,EAAE,OALK;AAMfC,QAAAA,WAAW,EAAE;AANE,OAAD,CAAf;;AADgB,oCASH5B,GAAG,CAACQ,sBAAJ,CAA2B,qBAA3B,CATG;;AAAA;;AASfgB,MAAAA,QATe;;AAAA,kCAURxB,GAAG,CAAC6B,oBAAJ,CAAyB,KAAzB,CAVQ;;AAAA;;AAUfV,MAAAA,GAVe;AAWhB,KAXS,CAAV;AAaAV,IAAAA,EAAE,CAAC,eAAD,EAAkB,YAAM;AACzBjC,MAAAA,MAAM,CAACgD,QAAQ,CAACd,WAAV,CAAN,CAA6BC,EAA7B,CAAgCC,KAAhC,CAAsC,aAAtC;AACA,KAFC,CAAF;AAIAH,IAAAA,EAAE,CAAC,qBAAD,EAAwB,YAAM;AAC/BjC,MAAAA,MAAM,CAAC2C,GAAG,CAACN,SAAJ,CAAcU,OAAf,CAAN,CAA8BZ,EAA9B,CAAiCG,OAAjC,CAAyC,mBAAzC;AACA,KAFC,CAAF;AAGA,GAzBO,CAAR;AA2BA9B,EAAAA,QAAQ,CAAC,gDAAD,EAAmD,YAAM;AAChE,QAAIgB,GAAJ;AACA,QAAIwB,QAAJ;AAEAtB,IAAAA,UAAU,CAAC,YAAM;AAChBF,MAAAA,GAAG,GAAGD,SAAS,CAAC;AACf0B,QAAAA,aAAa,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SADA;AAEfC,QAAAA,QAAQ,EAAE,OAFK;AAGfG,QAAAA,QAAQ,EAAE,2DAHK;AAIfC,QAAAA,KAAK,EAAE;AAJQ,OAAD,CAAf;;AADgB,oCAOH/B,GAAG,CAACQ,sBAAJ,CAA2B,qBAA3B,CAPG;;AAAA;;AAOfgB,MAAAA,QAPe;AAQhB,KARS,CAAV;AAUAf,IAAAA,EAAE,CAAC,eAAD,EAAkB,YAAM;AACzBjC,MAAAA,MAAM,CAACgD,QAAQ,CAACd,WAAV,CAAN,CAA6BC,EAA7B,CAAgCC,KAAhC,CAAsC,MAAtC;AACA,KAFC,CAAF;AAGA,GAjBO,CAAR;AAmBA5B,EAAAA,QAAQ,CAAC,mCAAD,EAAsC,YAAM;AACnD,QAAIgB,GAAJ;AACA,QAAIgC,GAAJ;AACA,QAAIC,OAAJ;AAEAC,IAAAA,MAAM,CAAC,YAAM;AACZlC,MAAAA,GAAG,GAAGD,SAAS,CAAC;AACf0B,QAAAA,aAAa,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SADA;AAEftC,QAAAA,OAAO,EAAE,MAFM;AAGf0C,QAAAA,QAAQ,EAAE,2DAHK;AAIfH,QAAAA,QAAQ,EAAE,OAJK;AAKfC,QAAAA,WAAW,EAAE;AALE,OAAD,CAAf;;AADY,mCAQJ5B,GAAG,CAAC6B,oBAAJ,CAAyB,KAAzB,CARI;;AAAA;;AAQXG,MAAAA,GARW;AASZC,MAAAA,OAAO,GAAGD,GAAG,CAACjB,YAAJ,CAAiB,MAAjB,CAAV;AACA,KAVK,CAAN;AAYAN,IAAAA,EAAE,CAAC,aAAD,EAAgB,YAAM;AACvBjC,MAAAA,MAAM,CAACyD,OAAD,CAAN,CAAgBtB,EAAhB,CAAmBC,KAAnB,CACC,2DADD;AAGA,KAJC,CAAF;AAKA,GAtBO,CAAR;AAwBA5B,EAAAA,QAAQ,CAAC,kBAAD,EAAqB,YAAM;AAClC,QAAIgB,GAAJ;AACA,QAAIC,GAAJ;AACA,QAAIkC,OAAJ;;AAEA,aAASC,QAAT,GAAoB;AACnBD,MAAAA,OAAO,GAAG,IAAV;AACA;;AAEDjC,IAAAA,UAAU,CAAC,YAAM;AAChBiC,MAAAA,OAAO,GAAG,KAAV;AACAnC,MAAAA,GAAG,GAAGD,SAAS,CAAC;AACfb,QAAAA,KAAK,EAAE,SADQ;AAEfE,QAAAA,OAAO,EAAE,SAFM;AAGfD,QAAAA,OAAO,EAAEiD;AAHM,OAAD,CAAf;;AAFgB,oCAORpC,GAAG,CAACQ,sBAAJ,CAA2B,aAA3B,CAPQ;;AAAA;;AAOfP,MAAAA,GAPe;AAQhB,KARS,CAAV;AAUAQ,IAAAA,EAAE,CAAC,gBAAD,EAAmB,YAAM;AAC1B;AACAjC,MAAAA,MAAM,CAAC2D,OAAD,CAAN,CAAgBxB,EAAhB,CAAmB0B,EAAnB,CAAsBC,KAAtB;AACA1D,MAAAA,QAAQ,CAAC2D,KAAT,CAAetC,GAAf,EAAoB,EAApB;AACAzB,MAAAA,MAAM,CAAC2D,OAAD,CAAN,CAAgBxB,EAAhB,CAAmB0B,EAAnB,CAAsBG,IAAtB;AACA;AACA,KANC,CAAF;AAOA,GA1BO,CAAR;AA2BA,CAlNO,CAAR","sourcesContent":["/* eslint-disable react/no-render-return-value */\n/* eslint-disable react/no-find-dom-node */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport TestUtils from 'react-dom/test-utils';\nimport { expect } from 'chai';\nimport assign from 'lodash.assign';\n\nimport SLDSButton from '../../button';\nimport IconSettings from '../../icon-settings';\n\nconst { Simulate } = TestUtils;\n\nconst mockCallback = sinon.spy();\n\ndescribe('SLDSButton: ', () => {\n\tconst defaultProps = {\n\t\tlabel: 'Neutral',\n\t\tonClick: mockCallback,\n\t\tvariant: 'neutral',\n\t};\n\n\tconst renderButton = (instance) => {\n\t\tconst ref = React.createRef();\n\t\tTestUtils.renderIntoDocument(\n\t\t\t<IconSettings iconPath=\"/assets/icons\">\n\t\t\t\t<div ref={ref}>{instance}</div>\n\t\t\t</IconSettings>\n\t\t);\n\t\treturn ReactDOM.findDOMNode(ref.current);\n\t};\n\n\tconst createButton = (props) =>\n\t\tReact.createElement(SLDSButton, assign({}, defaultProps, props));\n\tconst getButton = (props) => renderButton(createButton(props));\n\n\tdescribe('Basic Button Props Render', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tid: 'custom-id',\n\t\t\t\ttext: 'Brand',\n\t\t\t\ttheme: 'brand',\n\t\t\t\tstyle: { background: 'rgb(18, 49, 35)' },\n\t\t\t});\n\t\t\t[btn] = cmp.getElementsByClassName('slds-button');\n\t\t});\n\n\t\tit('renders correct label', () => {\n\t\t\texpect(btn.textContent).to.equal('Neutral');\n\t\t});\n\n\t\tit('renders correct variant styles', () => {\n\t\t\texpect(btn.className).to.include('slds-button_neutral');\n\t\t});\n\n\t\tit('renders custom id', () => {\n\t\t\texpect(btn.getAttribute('id')).to.equal('custom-id');\n\t\t});\n\n\t\tit('renders custom styles', function () {\n\t\t\tbtn.style.backgroundColor.should.equal('rgb(18, 49, 35)');\n\t\t});\n\t});\n\n\tdescribe('Form Props Render ', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tconst formAction = 'http://localhost/some/url';\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tid: 'custom-id',\n\t\t\t\tformAction,\n\t\t\t});\n\t\t\t[btn] = cmp.getElementsByClassName('slds-button');\n\t\t});\n\n\t\tit('renders formAction prop', () => {\n\t\t\texpect(btn.formAction).to.equal(formAction);\n\t\t});\n\t});\n\n\tdescribe('Data Props Render ', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tid: 'custom-id',\n\t\t\t\t'data-some-attribute': 'some value',\n\t\t\t});\n\t\t\t[btn] = cmp.getElementsByClassName('slds-button');\n\t\t});\n\n\t\tit('renders data-some-attribute prop', () => {\n\t\t\texpect(btn.getAttribute('data-some-attribute')).to.equal('some value');\n\t\t});\n\t});\n\n\tdescribe('Icon with Label Button Props Render', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet svg;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tlabel: 'Neutral with Icon',\n\t\t\t\ticonName: 'download',\n\t\t\t\ticonCategory: 'action',\n\t\t\t\ticonPosition: 'right',\n\t\t\t\tvariant: 'neutral',\n\t\t\t});\n\t\t\t[btn] = cmp.getElementsByClassName('slds-button');\n\t\t\t[svg] = cmp.getElementsByClassName('slds-button__icon');\n\t\t});\n\n\t\tit('renders label', () => {\n\t\t\texpect(btn.textContent).to.equal('Neutral with Icon');\n\t\t});\n\n\t\tit('renders icon', () => {\n\t\t\texpect(svg.className.baseVal).to.include('slds-button__icon_right');\n\t\t});\n\t});\n\n\tdescribe('Icon Button Props render', () => {\n\t\tlet cmp;\n\t\tlet asstText;\n\t\tlet svg;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tassistiveText: { icon: 'my settings' },\n\t\t\t\tvariant: 'icon',\n\t\t\t\ticonCategory: 'utility',\n\t\t\t\ticonName: 'settings',\n\t\t\t\ticonSize: 'small',\n\t\t\t\ticonVariant: 'bare',\n\t\t\t});\n\t\t\t[asstText] = cmp.getElementsByClassName('slds-assistive-text');\n\t\t\t[svg] = cmp.getElementsByTagName('svg');\n\t\t});\n\n\t\tit('renders label', () => {\n\t\t\texpect(asstText.textContent).to.equal('my settings');\n\t\t});\n\n\t\tit('renders icon styles', () => {\n\t\t\texpect(svg.className.baseVal).to.include('slds-button__icon');\n\t\t});\n\t});\n\n\tdescribe('(icon path) Icon Button renders assistive text', () => {\n\t\tlet cmp;\n\t\tlet asstText;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tassistiveText: { icon: 'News' },\n\t\t\t\ticonSize: 'large',\n\t\t\t\ticonPath: '/assets/icons/utility-sprite/svg/symbols.svg#announcement',\n\t\t\t\ttitle: 'announcement',\n\t\t\t});\n\t\t\t[asstText] = cmp.getElementsByClassName('slds-assistive-text');\n\t\t});\n\n\t\tit('renders label', () => {\n\t\t\texpect(asstText.textContent).to.equal('News');\n\t\t});\n\t});\n\n\tdescribe('External Path Icon Button renders', () => {\n\t\tlet cmp;\n\t\tlet use;\n\t\tlet svgHref;\n\n\t\tbefore(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tassistiveText: { icon: 'announcement' },\n\t\t\t\tvariant: 'icon',\n\t\t\t\ticonPath: '/assets/icons/utility-sprite/svg/symbols.svg#announcement',\n\t\t\t\ticonSize: 'large',\n\t\t\t\ticonVariant: 'bare',\n\t\t\t});\n\t\t\t[use] = cmp.getElementsByTagName('use');\n\t\t\tsvgHref = use.getAttribute('href');\n\t\t});\n\n\t\tit('renders svg', () => {\n\t\t\texpect(svgHref).to.equal(\n\t\t\t\t'/assets/icons/utility-sprite/svg/symbols.svg#announcement'\n\t\t\t);\n\t\t});\n\t});\n\n\tdescribe('Button Clickable', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet clicked;\n\n\t\tfunction setClick() {\n\t\t\tclicked = true;\n\t\t}\n\n\t\tbeforeEach(() => {\n\t\t\tclicked = false;\n\t\t\tcmp = getButton({\n\t\t\t\tlabel: 'Neutral',\n\t\t\t\tvariant: 'neutral',\n\t\t\t\tonClick: setClick,\n\t\t\t});\n\t\t\t[btn] = cmp.getElementsByClassName('slds-button');\n\t\t});\n\n\t\tit('can be clicked', () => {\n\t\t\t/* eslint-disable no-unused-expressions */\n\t\t\texpect(clicked).to.be.false;\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(clicked).to.be.true;\n\t\t\t/* eslint-enable no-unused-expressions */\n\t\t});\n\t});\n});\n"],"file":"button.browser-test.js"}