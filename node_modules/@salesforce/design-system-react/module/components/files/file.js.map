{"version":3,"sources":["../../../.tmp-es/components/files/file.jsx"],"names":["React","PropTypes","classNames","shortid","FILES_FILE","FileFigure","FileActions","displayName","propTypes","assistiveText","shape","download","string","image","link","loading","moreActions","className","oneOfType","array","object","crop","oneOf","id","onClickDownload","func","onClickImage","moreActionsDropdown","node","icon","externalIcon","isLoading","bool","href","labels","title","isRequired","hasNoVisibleTitle","defaultProps","File","props","event","preventDefault","generatedId","generate","getId","handleOnClickImage","cloneElement","size","containerClassName","injectMoreActionsStyles","Component"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// Implements the [Files design pattern](https://lightningdesignsystem.com/components/files/) in React.\n// Based on SLDS v2.4.0\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\n// ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\nimport shortid from 'shortid';\nimport { FILES_FILE } from '../../utilities/constants';\n\nimport FileFigure from './private/file-figure';\nimport FileActions from './private/file-actions';\n\nconst displayName = FILES_FILE;\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t *  * download - description for the download button if present\n\t *  * image - description for the file image\n\t *  * link - description for the file link\n\t *  * loading - description for the loading spinner if present\n\t *  * moreActions - description for the more actions dropdown if present\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tdownload: PropTypes.string,\n\t\timage: PropTypes.string,\n\t\tlink: PropTypes.string,\n\t\tloading: PropTypes.string,\n\t\tmoreActions: PropTypes.string,\n\t}),\n\t/**\n\t * CSS class names to be added to the container element. `array`, `object`, or `string` are accepted.\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Controls different cropping aspect ratios for the component\n\t */\n\tcrop: PropTypes.oneOf(['16-by-9', '4-by-3', '1-by-1']),\n\t/**\n\t * HTML id for component.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * Action to be done on clicking download button; doesn't show download button if empty\n\t */\n\tonClickDownload: PropTypes.func,\n\t/**\n\t * Function that is called when image is clicked; can be used instead of href for more advanced event handling\n\t */\n\tonClickImage: PropTypes.func,\n\t/**\n\t * Dropdown for more actions button; doesn't show more actions button if empty\n\t */\n\tmoreActionsDropdown: PropTypes.node,\n\t/**\n\t * Icon associated with the file. Accepts an Icon component\n\t */\n\ticon: PropTypes.node,\n\t/**\n\t * Icon to be shown in top left corner of File component. Accepts an Icon component\n\t */\n\texternalIcon: PropTypes.node,\n\t/**\n\t * Link to thumbnail image\n\t */\n\timage: PropTypes.string,\n\t/**\n\t * Controls whether file preview is loading\n\t */\n\tisLoading: PropTypes.bool,\n\t/**\n\t * Href attribute for image\n\t */\n\thref: PropTypes.string,\n\t/**\n\t * Labels for the File Component\n\t * * image - title for the file. Required.\n\t */\n\tlabels: PropTypes.shape({\n\t\ttitle: PropTypes.string.isRequired,\n\t}),\n\t/**\n\t *  Controls whether the file's title should be visible\n\t */\n\thasNoVisibleTitle: PropTypes.bool,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\tdownload: 'download',\n\t\tlink: 'Preview:',\n\t\tloading: 'loading',\n\t\tmoreActions: 'more actions',\n\t},\n\tcrop: '16-by-9',\n\thref: '#',\n\tisLoading: false,\n\thasNoVisibleTitle: false,\n};\n/**\n * File is a component that represents content uploaded as an attachment.\n */\nclass File extends React.Component {\n\tstatic injectMoreActionsStyles() {\n\t\treturn (\n\t\t\t<style>{`\n\t\t\t\t\t.dsr-file__more-actions-dropdown  ul.dropdown__list li.slds-dropdown__item > a:before\n\t\t\t\t\t{ background: none; }\n\t\t\t\t\t.dsr-file__more-actions-dropdown  ul.dropdown__list li.slds-dropdown__item > a:after\n\t\t\t\t\t{ background: none; }\n\t\t\t\t\t.dsr-file__more-actions > button:first-child\n\t\t\t\t\t{ border-radius: 0 0.25rem 0.25rem 0!important;}\n\t\t\t`}</style>\n\t\t);\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.generatedId = shortid.generate();\n\t}\n\n\t/**\n\t * Get the File's HTML id. Generate a new one if no ID present.\n\t */\n\tgetId() {\n\t\treturn this.props.id || this.generatedId;\n\t}\n\n\thandleOnClickImage = (event) => {\n\t\tif (this.props.href === '#') {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (this.props.onClickImage) {\n\t\t\tthis.props.onClickImage(event);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst assistiveText = {\n\t\t\t...defaultProps.assistiveText,\n\t\t\t...this.props.assistiveText,\n\t\t};\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={this.getId()}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'slds-file',\n\t\t\t\t\t'slds-file_card',\n\t\t\t\t\t!this.props.hasNoVisibleTitle ? 'slds-has-title' : null,\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<figure>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={this.props.href}\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'slds-file__crop',\n\t\t\t\t\t\t\tthis.props.crop ? `slds-file__crop_${this.props.crop}` : null\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonClick={this.handleOnClickImage}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FileFigure\n\t\t\t\t\t\t\tassistiveText={assistiveText}\n\t\t\t\t\t\t\tlabels={{\n\t\t\t\t\t\t\t\ttitle: this.props.labels.title,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tisLoading={this.props.isLoading}\n\t\t\t\t\t\t\timage={this.props.image}\n\t\t\t\t\t\t\ticon={this.props.icon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</a>\n\t\t\t\t\t{!this.props.hasNoVisibleTitle ? (\n\t\t\t\t\t\t<figcaption className=\"slds-file__title slds-file__title_card\">\n\t\t\t\t\t\t\t<div className=\"slds-media__figure slds-line-height_reset\">\n\t\t\t\t\t\t\t\t{this.props.icon\n\t\t\t\t\t\t\t\t\t? React.cloneElement(this.props.icon, {\n\t\t\t\t\t\t\t\t\t\t\tsize: 'x-small',\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"slds-media__body\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"slds-file__text slds-truncate\"\n\t\t\t\t\t\t\t\t\ttitle={this.props.labels.title}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.props.labels.title}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t) : null}\n\t\t\t\t</figure>\n\t\t\t\t{this.props.externalIcon ? (\n\t\t\t\t\t<div className=\"slds-file__external-icon\">\n\t\t\t\t\t\t{React.cloneElement(this.props.externalIcon, {\n\t\t\t\t\t\t\tcontainerClassName: 'slds-file__icon slds-icon_container',\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t\t{this.props.moreActionsDropdown ? File.injectMoreActionsStyles() : null}\n\t\t\t\t<FileActions\n\t\t\t\t\tassistiveText={assistiveText}\n\t\t\t\t\thasNoVisibleTitle={this.props.hasNoVisibleTitle}\n\t\t\t\t\tonClickDownload={this.props.onClickDownload}\n\t\t\t\t\tmoreActionsDropdown={this.props.moreActionsDropdown}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nFile.displayName = displayName;\nFile.propTypes = propTypes;\nFile.defaultProps = defaultProps;\n\nexport default File;\n"],"file":"file.js"}