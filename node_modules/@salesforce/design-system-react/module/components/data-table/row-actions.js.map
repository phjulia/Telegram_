{"version":3,"sources":["../../../.tmp-es/components/data-table/row-actions.jsx"],"names":["React","useContext","PropTypes","classNames","isFunction","Dropdown","EventUtil","InteractiveElement","CellContext","TableContext","useContextHelper","DATA_TABLE_ROW_ACTIONS","InteractiveDropdown","propTypes","assistiveText","object","className","string","id","item","noHint","bool","onAction","func","options","array","dropdown","node","defaultProps","icon","DataTableRowActions","props","tableContext","cellContext","fixedLayout","tabIndex","hasFocus","handleFocus","handleKeyDown","handleClick","e","trap","handleSelect","selection","onSelect","defaultDropdownProps","align","buttonClassName","buttonVariant","iconCategory","iconName","iconSize","iconVariant","hint","dropdownProps","width","ref","focus","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\n// ### React\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\n// ### isFunction\nimport isFunction from 'lodash.isfunction';\n\n// ## Children\nimport Dropdown from '../menu-dropdown';\n\n// ### Event Helpers\nimport EventUtil from '../../utilities/event';\n\nimport InteractiveElement from './interactive-element';\nimport CellContext from './private/cell-context';\nimport TableContext from './private/table-context';\nimport useContextHelper from './private/context-helper';\n\n// ## Constants\nimport { DATA_TABLE_ROW_ACTIONS } from '../../utilities/constants';\n\nconst InteractiveDropdown = InteractiveElement(Dropdown);\n\nconst propTypes = {\n\t/**\n\t * Description of the menu for screenreaders.\n\t */\n\tassistiveText: PropTypes.object,\n\t/**\n\t * Class names to be added to the actions menu.\n\t */\n\tclassName: PropTypes.string,\n\t/**\n\t * HTML ID to be added to the actions menu.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * `DataTable` row item\n\t */\n\titem: PropTypes.object,\n\t/**\n\t * Disable hint styling which changes the color of the dropdown svg on hover over.\n\t */\n\tnoHint: PropTypes.bool,\n\t/**\n\t * Triggered when an item is selected.\n\t */\n\tonAction: PropTypes.func,\n\t/**\n\t * `Dropdown` options. See `Dropdown`.\n\t */\n\toptions: PropTypes.array,\n\t/**\n\t * A [Dropdown](http://react.lightningdesignsystem.com/components/dropdown-menus/) component. The props from this drop will be merged and override any default props.\n\t * **Note:** onAction will not be overridden, both `DropDown`'s onSelect(dropDownActionOption) and onAction(rowItem, dropdownActionOption) will be called with appropriate parameters\n\t */\n\tdropdown: PropTypes.node,\n};\n\nconst defaultProps = {\n\tassistiveText: { icon: 'Actions' },\n\tnoHint: false,\n\toptions: [],\n};\n\n/**\n * RowActions provide a mechanism for defining a menu to display alongside each row in the DataTable.\n */\nconst DataTableRowActions = (props) => {\n\tconst tableContext = useContext(TableContext);\n\tconst cellContext = useContext(CellContext);\n\tconst { tabIndex, hasFocus, handleFocus, handleKeyDown } = useContextHelper(\n\t\ttableContext,\n\t\tcellContext,\n\t\tprops.fixedLayout\n\t);\n\n\tconst handleClick = (e) => {\n\t\tEventUtil.trap(e);\n\t};\n\n\tconst handleSelect = (selection) => {\n\t\tif (isFunction(props.onAction)) {\n\t\t\tprops.onAction(props.item, selection);\n\t\t}\n\t\tif (props.dropdown && isFunction(props.dropdown.props.onSelect)) {\n\t\t\tprops.dropdown.props.onSelect(selection);\n\t\t}\n\t};\n\n\t// i18n\n\tconst defaultDropdownProps = {\n\t\talign: 'right',\n\t\tbuttonClassName: 'slds-button_icon-x-small',\n\t\tbuttonVariant: 'icon',\n\t\ticonCategory: 'utility',\n\t\ticonName: 'down',\n\t\ticonSize: 'small',\n\t\ticonVariant: 'border-filled',\n\t\tassistiveText: props.assistiveText,\n\t\tclassName: props.className,\n\t\toptions: props.options,\n\t\thint: !props.noHint,\n\t\tid: props.id,\n\t};\n\n\tlet dropdownProps = props.dropdown ? props.dropdown.props : {};\n\tdropdownProps = {\n\t\t...defaultDropdownProps,\n\t\t...dropdownProps,\n\t\tonSelect: handleSelect,\n\t};\n\n\treturn (\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\t<td\n\t\t\tclassName={classNames({ 'slds-has-focus': hasFocus })}\n\t\t\tdata-label=\"Actions\"\n\t\t\tonClick={handleClick}\n\t\t\tstyle={{ width: '3.25rem' }}\n\t\t\tonFocus={handleFocus}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tref={(ref) => {\n\t\t\t\tif (ref && hasFocus) {\n\t\t\t\t\tref.focus();\n\t\t\t\t}\n\t\t\t}}\n\t\t\trole={props.fixedLayout ? 'gridcell' : null}\n\t\t\ttabIndex={tabIndex}\n\t\t>\n\t\t\t{/* eslint-enable jsx-a11y/no-static-element-interactions */}\n\t\t\t<InteractiveDropdown {...dropdownProps} />\n\t\t</td>\n\t);\n};\n\nDataTableRowActions.propTypes = propTypes;\nDataTableRowActions.defaultProps = defaultProps;\nDataTableRowActions.displayName = DATA_TABLE_ROW_ACTIONS;\nexport default DataTableRowActions;\n"],"file":"row-actions.js"}