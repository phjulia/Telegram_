{"version":3,"sources":["../../../.tmp-es/components/alert/index.jsx"],"names":["React","PropTypes","assign","classNames","Button","Icon","checkProps","componentDoc","ALERT","DOMElementFocus","EventUtil","propTypes","assistiveText","shape","closeButton","oneOfType","string","node","className","array","object","dismissible","bool","icon","labels","heading","headingLink","onClickHeadingLink","func","onRequestClose","style","variant","oneOf","isRequired","defaultProps","Alert","props","component","state","isInitialRender","storeActiveElement","focus","setState","returnFocusToStoredElement","content","onDismiss","assistiveTextVariant","info","warning","error","offline","defaultIcons","iconName","iconCategory","clonedIcon","cloneElement","containerClassName","inverse","size","trappedHandler","saveButtonRef","Component","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// # Alert Component\n\n// Implements the [Alert design pattern](https://lightningdesignsystem.com/components/alert/) in React.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport assign from 'lodash.assign';\nimport classNames from '../../utilities/class-names';\nimport Button from '../button';\nimport Icon from '../icon';\nimport checkProps from './check-props';\nimport componentDoc from './component.json';\nimport { ALERT } from '../../utilities/constants';\nimport DOMElementFocus from '../../utilities/dom-element-focus';\nimport EventUtil from '../../utilities/event';\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t * This object is merged with the default props object on every render.\n\t * * `closeButton`: This is a visually hidden label for the close button.\n\t * _Tested with snapshot testing._\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tcloseButton: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t}),\n\t/**\n\t * CSS classes to be added to tag with `.slds-notify_alert`. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t * _Tested with snapshot testing._\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Allows user to click a close button. Banners should be dismissible only if they communicate future impact to the system,\n\t * _Tested with snapshot testing._\n\t */\n\tdismissible: PropTypes.bool,\n\t/**\n\t * Icon of type `~/components/icon`. This icon will be cloned and additional props appended. The default icons are:\n\t * * info variant: `utility:info`\n\t * * error variant: `utility:error`\n\t * * offline variant: `utility:offline`\n\t * * warning variant: `utility:warning`\n\t *\n\t * _Tested with snapshot testing._\n\t */\n\ticon: PropTypes.node,\n\t/**\n\t * **Text labels for internationalization**\n\t * This object is merged with the default props object on every render.\n\t * * `heading`: text within heading tag\n\t * * `headingLink`: Text of link that triggers `onClickHeadingLink`. Inline links should pass a keyed array of React components into `labels.heading`.\n\t *\n\t * _Tested with snapshot testing._\n\t */\n\tlabels: PropTypes.shape({\n\t\theading: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t\theadingLink: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t}),\n\t/**\n\t * Triggered by link. _Tested with Mocha testing._\n\t */\n\tonClickHeadingLink: PropTypes.func,\n\t/**\n\t * Triggered by close button. This is a controlled component. _Tested with Mocha testing._\n\t */\n\tonRequestClose: PropTypes.func,\n\t/**\n\t * Custom styles to be passed to the component. _Tested with Mocha testing._\n\t */\n\tstyle: PropTypes.object,\n\t/**\n\t * The type of alert. _Tested with snapshot testing._\n\t */\n\tvariant: PropTypes.oneOf(['error', 'info', 'offline', 'warning']).isRequired,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\tcloseButton: 'Close',\n\t},\n\tlabels: {},\n\tvariant: 'info',\n};\n\n/**\n * Alert banners communicate a state that affects the entire system, not just a feature or page. It persists over a session and appears without the user initiating the action. View [banner guidelines](https://www.lightningdesignsystem.com/guidelines/messaging/components/banners/).\n */\n\nclass Alert extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisInitialRender: true,\n\t\t};\n\n\t\t// `checkProps` issues warnings to developers about properties (similar to React's built in development tools)\n\t\tcheckProps(ALERT, props, componentDoc);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tDOMElementFocus.returnFocusToStoredElement();\n\t}\n\n\tsaveButtonRef = (component) => {\n\t\tthis.closeButton = component;\n\t\tif (this.state.isInitialRender) {\n\t\t\tDOMElementFocus.storeActiveElement();\n\t\t\tif (this.closeButton) {\n\t\t\t\tthis.closeButton.focus();\n\t\t\t}\n\t\t\tthis.setState({ isInitialRender: false });\n\t\t}\n\t};\n\n\trender() {\n\t\t// Merge objects of strings with their default object\n\t\tconst assistiveText = assign(\n\t\t\t{},\n\t\t\tdefaultProps.assistiveText,\n\t\t\tthis.props.assistiveText\n\t\t);\n\t\tconst labels = assign({}, defaultProps.labels, this.props.labels);\n\n\t\t// BACKWARD COMPATIBILITY WITH NOTIFICATION\n\t\tconst heading = labels.heading || this.props.content; // eslint-disable-line react/prop-types\n\t\tconst onRequestClose = this.props.onRequestClose || this.props.onDismiss; // eslint-disable-line react/prop-types\n\n\t\tconst assistiveTextVariant = {\n\t\t\tinfo: 'info',\n\t\t\twarning: 'warning',\n\t\t\terror: 'error',\n\t\t\toffline: 'offline',\n\t\t};\n\n\t\tconst defaultIcons = {\n\t\t\tinfo: <Icon category=\"utility\" name=\"info\" />,\n\t\t\toffline: <Icon category=\"utility\" name=\"offline\" />,\n\t\t\twarning: <Icon category=\"utility\" name=\"warning\" />,\n\t\t\terror: <Icon category=\"utility\" name=\"error\" />,\n\t\t};\n\n\t\tlet icon = this.props.icon\n\t\t\t? this.props.icon\n\t\t\t: defaultIcons[this.props.variant];\n\n\t\t// BACKWARD COMPATIBILITY WITH NOTIFICATION\n\t\tif (this.props.iconName && this.props.iconCategory) {\n\t\t\t// eslint-disable-line react/prop-types\n\t\t\ticon = (\n\t\t\t\t<Icon category={this.props.iconCategory} name={this.props.iconName} />\n\t\t\t);\n\t\t}\n\n\t\tconst clonedIcon = React.cloneElement(icon, {\n\t\t\tcontainerClassName: 'slds-m-right_x-small',\n\t\t\tinverse: true,\n\t\t\tsize: 'x-small',\n\t\t});\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'slds-notify slds-notify_alert slds-theme_alert-texture',\n\t\t\t\t\t{\n\t\t\t\t\t\t'slds-theme_info': this.props.variant === 'info',\n\t\t\t\t\t\t'slds-theme_warning': this.props.variant === 'warning',\n\t\t\t\t\t\t'slds-theme_error': this.props.variant === 'error',\n\t\t\t\t\t\t'slds-theme_offline': this.props.variant === 'offline',\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t\trole=\"alert\"\n\t\t\t\tstyle={this.props.style}\n\t\t\t>\n\t\t\t\t<span className=\"slds-assistive-text\">\n\t\t\t\t\t{assistiveTextVariant[this.props.variant]}\n\t\t\t\t</span>\n\t\t\t\t{clonedIcon}\n\t\t\t\t<h2>\n\t\t\t\t\t{heading}{' '}\n\t\t\t\t\t{labels.headingLink ? (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tonClick={EventUtil.trappedHandler(this.props.onClickHeadingLink)}\n\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{labels.headingLink}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) : null}\n\t\t\t\t</h2>\n\t\t\t\t{this.props.dismissible ? (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tassistiveText={{ icon: assistiveText.closeButton }}\n\t\t\t\t\t\tbuttonRef={this.saveButtonRef}\n\t\t\t\t\t\tclassName=\"slds-notify__close\"\n\t\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\t\ticonName=\"close\"\n\t\t\t\t\t\ticonSize=\"medium\"\n\t\t\t\t\t\tinverse\n\t\t\t\t\t\tonClick={onRequestClose}\n\t\t\t\t\t\ttitle={assistiveText.closeButton}\n\t\t\t\t\t\tvariant=\"icon\"\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nAlert.defaultProps = defaultProps;\nAlert.displayName = ALERT;\nAlert.propTypes = propTypes;\n\nexport default Alert;\n"],"file":"index.js"}